{"ast":null,"code":"var _jsxFileName = \"/Users/emilio.padilla/Library/Mobile Documents/com~apple~CloudDocs/Documents/Trabajo/PredictAP/takehome/FrontEnd-React/src/components/Indexer/Indexer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '../Table/Table';\nimport SearchNameBar from '../SearchBar/SearchBar';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { utils } from '../../utils/utils';\nimport './Indexer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Indexer = () => {\n  _s();\n  const [data, setData] = useState();\n  const [filteredData, setFilteredData] = useState();\n  const [nameQuery, setNameQuery] = useState('');\n  const [sizeQuery, setSizeQuery] = useState('');\n  const [dropdownType, setDropdownType] = useState('default');\n  const [dropdownOptions, setDropdownOptions] = useState();\n  async function fetchData() {\n    try {\n      var _indexData$data;\n      const indexData = await axios.get('http://localhost:3000/index-directory');\n      setData(indexData.data);\n      setDropdownOptions((_indexData$data = indexData.data) === null || _indexData$data === void 0 ? void 0 : _indexData$data.contentTypes);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n\n  // Load Initial data\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Filter data by name\n  useEffect(() => {\n    const searchedData = utils.searchByProperty(data, nameQuery, 'name', dropdownType);\n    setFilteredData(searchedData);\n  }, [nameQuery]);\n\n  // Filter data by size\n  useEffect(() => {\n    const searchedSizeData = utils.searchByProperty(data, sizeQuery, 'size', dropdownType);\n    setFilteredData(searchedSizeData);\n  }, [sizeQuery]);\n\n  // Filter data by dropdown type\n  useEffect(() => {\n    const searchedDropdownData = utils.searchByProperty(data, null, undefined, dropdownType);\n    setFilteredData(searchedDropdownData);\n  }, [dropdownType]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Indexed Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => fetchData(),\n          children: \"Refresh Files Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchNameBar, {\n          onSearch: nameQuery => setNameQuery(nameQuery),\n          type: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchNameBar, {\n          onSearch: sizeQuery => setSizeQuery(sizeQuery),\n          type: \"size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          searchOptions: dropdownOptions,\n          selectedSearchType: dropdownType,\n          setSelectedSearchType: setDropdownType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-body\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          fileDirectory: filteredData ? filteredData : data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Indexer, \"hpOL2Jf7WDw8jRSPhYQIopFH3tY=\");\n_c = Indexer;\nexport default Indexer;\nvar _c;\n$RefreshReg$(_c, \"Indexer\");","map":{"version":3,"names":["React","useState","useEffect","axios","Table","SearchNameBar","Dropdown","utils","jsxDEV","_jsxDEV","Indexer","_s","data","setData","filteredData","setFilteredData","nameQuery","setNameQuery","sizeQuery","setSizeQuery","dropdownType","setDropdownType","dropdownOptions","setDropdownOptions","fetchData","_indexData$data","indexData","get","contentTypes","error","console","searchedData","searchByProperty","searchedSizeData","searchedDropdownData","undefined","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","onSearch","type","searchOptions","selectedSearchType","setSelectedSearchType","fileDirectory","_c","$RefreshReg$"],"sources":["/Users/emilio.padilla/Library/Mobile Documents/com~apple~CloudDocs/Documents/Trabajo/PredictAP/takehome/FrontEnd-React/src/components/Indexer/Indexer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '../Table/Table';\nimport { DirectoryInfo } from '../../types/index';\nimport SearchNameBar from '../SearchBar/SearchBar';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { utils } from '../../utils/utils';\nimport './Indexer.css';\n\nconst Indexer = () => {\n  const [data, setData] = useState<DirectoryInfo | undefined>();\n  const [filteredData, setFilteredData] = useState<DirectoryInfo | undefined>();\n  const [nameQuery, setNameQuery] = useState('');\n  const [sizeQuery, setSizeQuery] = useState('');\n  const [dropdownType, setDropdownType] = useState<string>('default');\n  const [dropdownOptions, setDropdownOptions] = useState<string[]>();\n\n  async function fetchData() {\n    try {\n      const indexData = await axios.get<DirectoryInfo | undefined>('http://localhost:3000/index-directory');\n      setData(indexData.data);\n      setDropdownOptions(indexData.data?.contentTypes);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n\n  // Load Initial data\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Filter data by name\n  useEffect(() => {\n    const searchedData = utils.searchByProperty(data, nameQuery, 'name', dropdownType);\n    setFilteredData(searchedData);\n  }, [nameQuery]);\n\n  // Filter data by size\n  useEffect(() => {\n    const searchedSizeData = utils.searchByProperty(data, sizeQuery, 'size', dropdownType);\n    setFilteredData(searchedSizeData);\n  }, [sizeQuery]);\n\n  // Filter data by dropdown type\n  useEffect(() => {\n    const searchedDropdownData = utils.searchByProperty(data, null, undefined, dropdownType);\n    setFilteredData(searchedDropdownData);\n  }, [dropdownType]);\n\n  return (\n    <div>\n      <h2>Indexed Files</h2>\n      <div className='content-search'>\n        <div className='content-header'>\n          <button className='primary-button' onClick={() => fetchData()}>Refresh Files Data</button>\n          <SearchNameBar onSearch={(nameQuery) => setNameQuery(nameQuery) } type='name' />\n          <SearchNameBar onSearch={(sizeQuery) => setSizeQuery(sizeQuery) } type='size' />\n          <Dropdown searchOptions={dropdownOptions} selectedSearchType={dropdownType} setSelectedSearchType={setDropdownType} />\n        </div>\n        <div className='content-body'>\n          <Table fileDirectory={filteredData ? filteredData : data} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Indexer;\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}